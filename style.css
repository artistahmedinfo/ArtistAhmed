const accessCode = "secret123"; // Change kor apnar jonno

function showLogin() {
    document.getElementById("home-section").style.display = "none";
    document.getElementById("login-section").style.display = "flex";
}

function checkAccess() {
    const input = document.getElementById("access-code").value;
    if (input === accessCode) {
        document.getElementById("login-section").style.display = "none";
        document.getElementById("course-section").style.display = "block";
        localStorage.setItem("loggedIn", "true");
    } else {
        alert("Incorrect access code!");
    }
}

function logout() {
    localStorage.removeItem("loggedIn");
    document.getElementById("course-section").style.display = "none";
    document.getElementById("home-section").style.display = "flex";
}

function openModal(videoId, title) {
    document.getElementById('modal-title').textContent = title;
    document.getElementById('modal-video').src = `https://www.youtube.com/embed/${videoId}`;
    document.getElementById('video-modal').style.display = 'flex';
}

function switchVideo(videoId, title) {
    document.getElementById('modal-title').textContent = title;
    document.getElementById('modal-video').src = `https://www.youtube.com/embed/${videoId}`;
}

function closeModal() {
    document.getElementById('modal-video').src = '';
    document.getElementById('video-modal').style.display = 'none';
}

window.onload = function() {
    if (localStorage.getItem("loggedIn") === "true") {
        document.getElementById("home-section").style.display = "none";
        document.getElementById("login-section").style.display = "none";
        document.getElementById("course-section").style.display = "block";
    }
};

// Modal outside click to close
window.onclick = function(event) {
    const modal = document.getElementById('video-modal');
    if (event.target === modal) {
        closeModal();
    }
};

// Global functions
window.showLogin = showLogin;
window.checkAccess = checkAccess;
window.logout = logout;
window.openModal = openModal;
window.switchVideo = switchVideo;
window.closeModal = closeModal;
